# /close-today Skill Design

**Date**: 2026-02-23
**Approach**: Diff-based (æ–¹æ¡ˆ A) â€” å…¨é‡æ‹‰å–æ•°æ®æºæœ€æ–°çŠ¶æ€ï¼Œä¸ daily note é€é¡¹å¯¹æ¯”

## Overview

`/close-today` æ˜¯ `/today` çš„é…å¥— skillï¼Œæ¯å¤©å·¥ä½œç»“æŸæ—¶è¿è¡Œã€‚è‡ªåŠ¨åˆ¤æ–­ä»Šæ—¥è®¡åˆ’çš„å®ŒæˆçŠ¶æ€ï¼Œç”Ÿæˆå®Œæ•´å›é¡¾ï¼ˆå®Œæˆç‡ã€æ—¶é—´åˆ†æã€AI æ•™ç»ƒåé¦ˆï¼‰ï¼Œè¾“å‡ºåˆ°ç»ˆç«¯å¹¶è¿½åŠ åˆ° Obsidian daily noteã€‚

## Daily Workflow

```
æ—©ä¸Š /today        â†’ ç”Ÿæˆä»Šæ—¥è®¡åˆ’
    â†“
  ï¼ˆå·¥ä½œä¸€å¤©ï¼‰
    â†“
æ™šä¸Š /close-today  â†’ å›é¡¾ + è‡ªåŠ¨å‹¾é€‰ + AI æ•™ç»ƒåé¦ˆ
```

## æ•°æ®æº (7 ä¸ª)

| # | æ•°æ®æº | Tool / API | æ‹‰å–å†…å®¹ | ç”¨é€” |
|---|--------|-----------|---------|------|
| 1 | Google Calendar | `mcp__google-drive__calendar_events_list` | ä»Šå¤©çš„äº‹ä»¶ | åˆ¤æ–­ä¼šè®®æ˜¯å¦å·²è¿‡ |
| 2 | Linear | `mcp__plugin_linear_linear__list_issues` | issue æœ€æ–°çŠ¶æ€ | åˆ¤æ–­ ticket æ˜¯å¦ Done |
| 3 | GitHub | `gh` CLI | PR merge/review çŠ¶æ€ | åˆ¤æ–­ PR review æ˜¯å¦å®Œæˆ |
| 4 | Slack | `mcp__slack__conversations_history` | æœ€è¿‘æ¶ˆæ¯ | åˆ¤æ–­æ˜¯å¦å·²å›å¤ @mention |
| 5 | Gmail | Gmail MCPï¼ˆå¾…é…ç½®ï¼‰ | æœªè¯»é‚®ä»¶ | åˆ¤æ–­é‚®ä»¶æ˜¯å¦å·²å¤„ç† |
| 6 | Notion | `mcp__notion__notion-search` | task çŠ¶æ€ | åˆ¤æ–­ Notion task æ˜¯å¦å®Œæˆ |
| 7 | Timing | `timingapp-timeline-loader` skill (æœ¬åœ° SQLite) | ä»Šå¤©çš„æ—¶é—´è®°å½• | å®é™…æ—¶é—´åˆ†æ |

## æ ¸å¿ƒé€»è¾‘: é€é¡¹åŒ¹é… & å®Œæˆåˆ¤æ–­

### Step 1 â€” è¯»å–ä»Šæ—¥è®¡åˆ’

è¯»å– `## ä»Šæ—¥è®¡åˆ’` sectionï¼Œè§£ææ¯ä¸ª itemï¼š
- çŠ¶æ€: `[ ]` vs `[x]`ï¼ˆå·²æ‰‹åŠ¨å‹¾é€‰çš„ä¿æŒä¸å˜ï¼‰
- ç±»å‹æ ‡è¯†: `MLS-xxx` (Linear), `PR #xxx` (GitHub), æ—¶é—´æ®µ (Calendar), å…¶ä»–
- æ‰€å±åˆ†ç±»: å›ºå®šæ—¶é—´ / ç´§æ€¥ / ä¸“æ³¨ / å¾…å¤„ç† / é—ç•™

### Step 2 â€” å¹¶è¡Œæ‹‰å– 7 ä¸ªæ•°æ®æºæœ€æ–°çŠ¶æ€

ä¸ `/today` ç›¸åŒçš„ API è°ƒç”¨ + Timing Web APIã€‚

### Step 3 â€” å®ŒæˆçŠ¶æ€åˆ¤æ–­ (ä¸¤æ­¥èµ°)

| ç±»å‹ | é«˜ç½®ä¿¡å®Œæˆæ¡ä»¶ â†’ ç›´æ¥å‹¾ | ä¸­/ä½ç½®ä¿¡ â†’ éœ€ç¡®è®¤ |
|------|----------------------|-------------------|
| Calendar äº‹ä»¶ | å½“å‰æ—¶é—´ > ç»“æŸæ—¶é—´ | â€” |
| Linear issue (`MLS-xxx`) | çŠ¶æ€å˜ä¸º Done/Cancelled | çŠ¶æ€ä» In Progress ä½†æœ‰æ–° commit |
| GitHub PR review | PR å·² merge æˆ–æˆ‘å·²æäº¤ review | PR ä» open ä½†æœ‰æ–° comment |
| Slack @mention | æˆ‘åœ¨è¯¥ thread æœ‰æ–°å›å¤ | thread æœ‰æ–°æ¶ˆæ¯ä½†æˆ‘æœªå›å¤ |
| Gmail | â€” | æ— æ³•ç¡®å®šï¼ˆGmail ä¸è¿½è¸ªå·²å›å¤ï¼‰ |
| Notion task | çŠ¶æ€å˜ä¸º Done/Complete | â€” |
| é€šç”¨é¡¹ï¼ˆæ— æ ‡è¯†ç¬¦ï¼‰ | å·²æ‰‹åŠ¨å‹¾é€‰ `[x]` | æœªå‹¾é€‰ï¼Œæ— æ³•è‡ªåŠ¨åˆ¤æ–­ |

**é«˜ç½®ä¿¡åº¦** â†’ ç›´æ¥åœ¨ daily note ä¸­ `[ ]` â†’ `[x]`
**ä¸­/ä½ç½®ä¿¡åº¦** â†’ ç»ˆç«¯åˆ—å‡ºï¼Œç­‰ç”¨æˆ·ç¡®è®¤åæ›´æ–°

## å›é¡¾è¾“å‡º

### ç»ˆç«¯è¾“å‡º

```
ğŸŒ™ ä»Šæ—¥å›é¡¾ â€” {{DATE}} ({{DAY}})
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… å·²å®Œæˆ ({{done}}/{{total}})
  âœ“ {{item}} (â†’ {{reason}})
  âœ“ [è‡ªåŠ¨] {{item}} (â†’ {{reason}})
  âœ“ [æ‰‹åŠ¨] {{item}}

â“ éœ€è¦ç¡®è®¤ ({{count}})
  ? {{item}} â€” {{reason}}
    â†’ æ ‡è®°å®Œæˆï¼Ÿ [y/n]

âŒ æœªå®Œæˆ â†’ æ˜æ—¥é—ç•™ ({{count}})
  â˜ {{item}} â€” {{reason}}

â±ï¸ æ—¶é—´åˆ†æ (Timing)
  {{category}}:  {{hours}}h  {{bar}}  {{percent}}%

ğŸ“Š ç»Ÿè®¡
  è®¡åˆ’å®Œæˆç‡: {{percent}}% ({{done}}/{{total}})
  ç•ªèŒ„æ¶ˆè€—: ~{{actual}}ğŸ… / è®¡åˆ’ {{planned}}ğŸ…
  æœªå®ŒæˆåŸå› :
    â° ä¼°æ—¶ä¸è¶³: {{count}} é¡¹
    ğŸš§ è¢«é˜»å¡:  {{count}} é¡¹
    ğŸ“¥ ä¸´æ—¶æ’å…¥: {{count}} é¡¹

ğŸ§  AI æ•™ç»ƒåé¦ˆ

  ğŸ‘” Career Coach
  {{2-4 å¥ï¼Œå…³æ³¨æŠ€èƒ½æˆé•¿ã€å½±å“åŠ›ã€èŒä¸šç›®æ ‡å¯¹é½}}

  âš¡ æ•ˆç‡æ•™ç»ƒ
  {{2-4 å¥ï¼Œå…³æ³¨æ—¶é—´åˆ†é…ã€ç•ªèŒ„å®Œæˆç‡ã€å·¥ä½œèŠ‚å¥ã€æ˜æ—¥ä¼˜åŒ–}}

  ğŸŒ± Positive Intelligence
  {{2-4 å¥ï¼Œå…³æ³¨å¿ƒç†çŠ¶æ€ã€è¯†åˆ«å¿ƒé­”æ¨¡å¼ã€ç§¯æé‡æ„}}
```

### Obsidian è¿½åŠ 

è¿½åŠ  `## ä»Šæ—¥å›é¡¾` section åˆ°åŒä¸€å¤©çš„ daily noteï¼š

```markdown
## ä»Šæ—¥å›é¡¾

### âœ… å·²å®Œæˆ ({{done}}/{{total}})
- [x] {{item}} (â†’ {{reason}}) ğŸ… {{estimate}}

### âŒ æœªå®Œæˆ â†’ æ˜æ—¥é—ç•™
- [ ] {{item}} â€” {{reason}} ğŸ… {{estimate}}

### â±ï¸ æ—¶é—´åˆ†æ
| ç±»åˆ« | æ—¶é•¿ | å æ¯” |
|------|------|------|
| {{category}} | {{hours}}h | {{percent}}% |

### ğŸ“Š ç»Ÿè®¡
- è®¡åˆ’å®Œæˆç‡: {{percent}}% ({{done}}/{{total}})
- ç•ªèŒ„æ¶ˆè€—: ~{{actual}}ğŸ… / è®¡åˆ’ {{planned}}ğŸ…

### ğŸ§  AI æ•™ç»ƒåé¦ˆ

**ğŸ‘” Career Coach**
{{feedback}}

**âš¡ æ•ˆç‡æ•™ç»ƒ**
{{feedback}}

**ğŸŒ± Positive Intelligence**
{{feedback}}

> å®Œæˆç‡: {{percent}}% | å®é™…: ~{{actual}}ğŸ… / è®¡åˆ’ {{planned}}ğŸ…
```

### å†™å…¥è¡Œä¸º

| æ“ä½œ | ç›®æ ‡ |
|------|------|
| è‡ªåŠ¨å‹¾é€‰ | ä¿®æ”¹ `## ä»Šæ—¥è®¡åˆ’` section: `- [ ]` â†’ `- [x]` |
| è¿½åŠ å›é¡¾ | è¿½åŠ  `## ä»Šæ—¥å›é¡¾` sectionï¼ˆå¦‚å·²å­˜åœ¨åˆ™æ›¿æ¢ï¼‰ |

## AI æ•™ç»ƒåé¦ˆè§„åˆ™

ä¸‰ä¸ªè§†è§’ï¼Œæ¯ä¸ª 2-4 å¥è¯ï¼ŒåŸºäºå½“å¤©å®é™…æ•°æ®ï¼š

| è§†è§’ | å…³æ³¨ç‚¹ |
|------|--------|
| ğŸ‘” Career Coach | æŠ€èƒ½æˆé•¿ã€å½±å“åŠ›ã€èŒä¸šç›®æ ‡å¯¹é½ã€æ˜¯å¦åšäº†é«˜æ æ†çš„äº‹ |
| âš¡ æ•ˆç‡æ•™ç»ƒ | æ—¶é—´åˆ†é…ã€ç•ªèŒ„å®Œæˆç‡ã€å·¥ä½œèŠ‚å¥ã€æ˜æ—¥ä¼˜åŒ–å»ºè®® |
| ğŸŒ± Positive Intelligence | å¿ƒç†çŠ¶æ€ã€è¯†åˆ«å¿ƒé­”æ¨¡å¼ï¼ˆJudge, Achiever, Controller ç­‰ï¼‰ã€ç§¯æé‡æ„ã€PQ rep |

## Timing æ•°æ®æº

ä½¿ç”¨ `timingapp-timeline-loader` skillï¼ˆæœ¬åœ° SQLite ç›´æ¥è¯»å–ï¼Œæ— éœ€ API keyï¼‰ï¼š

```bash
python3 ~/.claude/skills/timingapp-timeline-loader/generate_timeline.py --date YYYY-MM-DD --summary --output -
```

- è¯»å– `~/Library/Application Support/info.eurocomp.Timing2/SQLite.db`
- è¾“å‡º: JSON with `total_hours`, `by_project`, `work_sessions`
- å¦‚æœ Timing æœªå®‰è£…æˆ–æ•°æ®åº“ä¸å­˜åœ¨ï¼Œè·³è¿‡æ—¶é—´åˆ†æï¼ˆgraceful degradationï¼‰

## Skill ç»“æ„

```
~/today-yolo/skills/close-today/
â”œâ”€â”€ SKILL.md
â””â”€â”€ references/
    â””â”€â”€ output-template.md
```

å®‰è£…: `ln -s ~/today-yolo/skills/close-today ~/.claude/skills/close-today`

## æ‰§è¡Œæ­¥éª¤

| Step | æè¿° | å¹¶è¡Œï¼Ÿ |
|------|------|--------|
| 1 | è¯»å–ä»Šæ—¥ daily noteï¼Œè§£æ `## ä»Šæ—¥è®¡åˆ’` ä¸­æ‰€æœ‰ items | â€” |
| 2 | å¹¶è¡Œæ‹‰å– 7 ä¸ªæ•°æ®æºæœ€æ–°çŠ¶æ€ | âœ… å…¨éƒ¨å¹¶è¡Œ |
| 3 | é€é¡¹åŒ¹é…ï¼Œåˆ¤æ–­å®ŒæˆçŠ¶æ€ï¼ˆé«˜/ä¸­/ä½ç½®ä¿¡åº¦ï¼‰ | â€” |
| 4 | é«˜ç½®ä¿¡åº¦é¡¹ç›´æ¥åœ¨ daily note ä¸­ `[ ]` â†’ `[x]` | â€” |
| 5 | ç»ˆç«¯è¾“å‡ºï¼šå·²å®Œæˆã€éœ€ç¡®è®¤ã€æœªå®Œæˆåˆ—è¡¨ | â€” |
| 6 | ç­‰ç”¨æˆ·ç¡®è®¤ä¸­ç½®ä¿¡åº¦é¡¹ â†’ æ›´æ–° daily note | â€” |
| 7 | ç”Ÿæˆå›é¡¾ç»Ÿè®¡ + AI æ•™ç»ƒåé¦ˆ | â€” |
| 8 | ç»ˆç«¯è¾“å‡ºå®Œæ•´å›é¡¾ | â€” |
| 9 | è¿½åŠ  `## ä»Šæ—¥å›é¡¾` åˆ° daily note | â€” |

## é”™è¯¯å¤„ç†

- ä¸ `/today` ç›¸åŒï¼šå•ä¸ªæ•°æ®æºå¤±è´¥ä¸é˜»å¡æ•´ä½“æµç¨‹
- Timing API ä¸å¯ç”¨ â†’ è·³è¿‡æ—¶é—´åˆ†æï¼Œå…¶ä»–éƒ¨åˆ†æ­£å¸¸è¾“å‡º
- Gmail æœªé…ç½® â†’ é™é»˜è·³è¿‡
- å¦‚æœ `## ä»Šæ—¥è®¡åˆ’` section ä¸å­˜åœ¨ â†’ æç¤ºå…ˆè¿è¡Œ `/today`
